import{__esmMin as e}from"./rolldown-runtime.JBZEuaf6.mjs";import{ControlType as t,QueryEngine as n,addPropertyControls as r,init_framer_JQQVEEM4 as i}from"./framer.D_QcE7RE.mjs";function a(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function o(e,...t){if(!e)throw Error(`Assertion Error`+(t.length>0?`: `+t.join(` `):``))}function s(e){throw Error(`Unexpected value: ${e}`)}function c(e,t){return xt(e,t||{},0,0)}function l(e,t){return ut(e,{i:2},t&&t.out,t&&t.dictionary)}function u(e,t,n,r){o(e>=t,e,`outside lower bound for`,r),o(e<=n,e,`outside upper bound for`,r)}function d(e){return Number.isFinite(e)}function f(e){return e===void 0}function p(e){return e===null}function m(e){if(p(e))return 0;switch(e.type){case t.Array:return 1;case t.Boolean:return 2;case t.Color:return 3;case t.Date:return 4;case t.Enum:return 5;case t.File:return 6;case t.ResponsiveImage:return 10;case t.Link:return 7;case t.Number:return 8;case t.Object:return 9;case t.RichText:return 11;case t.String:return 12;default:s(e)}}function h(e){let n=e.readUint16(),r=[];for(let t=0;t<n;t++){let t=H.read(e);r.push(t)}return{type:t.Array,value:r}}function g(e,t){for(let n of(e.writeUint16(t.value.length),t.value))H.write(e,n)}function _(e,t,n){let r=e.value.length,i=t.value.length;if(r<i)return-1;if(r>i)return 1;for(let i=0;i<r;i++){let r=e.value[i],a=t.value[i],o=H.compare(r,a,n);if(o!==0)return o}return 0}function v(e){return{type:t.Boolean,value:e.readUint8()!==0}}function y(e,t){e.writeUint8(t.value?1:0)}function b(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function x(e){return{type:t.Color,value:e.readString()}}function S(e,t){e.writeString(t.value)}function ee(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function C(e){let n=e.readInt64(),r=new Date(n);return{type:t.Date,value:r.toISOString()}}function w(e,t){let n=new Date(t.value),r=n.getTime();e.writeInt64(r)}function T(e,t){let n=new Date(e.value),r=new Date(t.value);return n<r?-1:n>r?1:0}function E(e){return{type:t.Enum,value:e.readString()}}function D(e,t){e.writeString(t.value)}function O(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function k(e){return{type:t.File,value:e.readString()}}function A(e,t){e.writeString(t.value)}function j(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function M(e){return{type:t.Link,value:e.readJson()}}function N(e,t){e.writeJson(t.value)}function P(e,t){let n=JSON.stringify(e.value),r=JSON.stringify(t.value);return n<r?-1:n>r?1:0}function te(e){return{type:t.Number,value:e.readFloat64()}}function F(e,t){e.writeFloat64(t.value)}function I(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function L(e){let n=e.readUint16(),r={};for(let t=0;t<n;t++){let t=e.readString();r[t]=H.read(e)}return{type:t.Object,value:r}}function R(e,t){let n=Object.entries(t.value);for(let[t,r]of(e.writeUint16(n.length),n))e.writeString(t),H.write(e,r)}function z(e,t,n){let r=Object.keys(e.value).sort(),i=Object.keys(t.value).sort();if(r.length<i.length)return-1;if(r.length>i.length)return 1;for(let a=0;a<r.length;a++){let o=r[a],s=i[a];if(o<s)return-1;if(o>s)return 1;let c=e.value[o]??null,l=t.value[s]??null,u=H.compare(c,l,n);if(u!==0)return u}return 0}function B(e){return{type:t.ResponsiveImage,value:e.readJson()}}function ne(e,t){e.writeJson(t.value)}function re(e,t){let n=JSON.stringify(e.value),r=JSON.stringify(t.value);return n<r?-1:n>r?1:0}function ie(e){return{type:t.RichText,value:e.readUint32()}}function ae(e,t){e.writeUint32(t.value)}function oe(e,t){let n=e.value,r=t.value;return n<r?-1:n>r?1:0}function se(e){return{type:t.String,value:e.readString()}}function ce(e,t){e.writeString(t.value)}function le(e,t,n){let r=e.value,i=t.value;return n.type===0&&(r=e.value.toLowerCase(),i=t.value.toLowerCase()),r<i?-1:r>i?1:0}async function ue(e){let t=Math.floor(Mt*(Math.random()+1)*2**(e-1));await new Promise(e=>{setTimeout(e,t)})}function de(e){let t=3&e.length,n=e.length-t,r=0,i=0;for(;i<n;){let t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24;++i,r^=t=(65535&(t=(t=(65535&t)*3432918353+(((t>>>16)*3432918353&65535)<<16)&4294967295)<<15|t>>>17))*461845907+(((t>>>16)*461845907&65535)<<16)&4294967295,r=r<<13|r>>>19;let n=(65535&r)*5+(((r>>>16)*5&65535)<<16)&4294967295;r=(65535&n)+27492+(((n>>>16)+58964&65535)<<16)}let a=0;return t>=3&&(a^=(255&e.charCodeAt(i+2))<<16),t>=2&&(a^=(255&e.charCodeAt(i+1))<<8),t>=1&&(a^=255&e.charCodeAt(i),r^=a=(65535&(a=(a=(65535&a)*3432918353+(((a>>>16)*3432918353&65535)<<16)&4294967295)<<15|a>>>17))*461845907+(((a>>>16)*461845907&65535)<<16)&4294967295),r^=e.length,r^=r>>>16,r=(65535&r)*2246822507+(((r>>>16)*2246822507&65535)<<16)&4294967295,r^=r>>>13,r=(65535&r)*3266489909+(((r>>>16)*3266489909&65535)<<16)&4294967295,(r^=r>>>16)>>>0}async function fe(e,t){let n=new URL(e),r=be(t);n.searchParams.set(`rangeHash`,de(r).toString(16));let i=await Pt(n,{headers:{Range:r}});if(!i.ok)throw Error(`Request failed: ${i.status} ${i.statusText}`);let a=await i.arrayBuffer(),o=new Uint8Array(a);if(i.status===200)return t.map(e=>{if(e.to>o.length)throw Error(`Missing data`);return o.slice(e.from,e.to)});if(i.status===206){let e=i.headers.get(`Content-Type`);if(!e)throw Error(`Missing Content-Type header`);let n=new Bt,r=new Ft.default(e);if(r.type===`multipart`&&r.subtype===`byteranges`){let e=r.parameters.get(`boundary`);if(!e)throw Error(`Missing boundary parameter`);let t=pe(o,e);for(let{headers:e,body:r}of t){let t=e.get(`Content-Range`);if(!t)throw Error(`Missing Content-Range header`);let i=me(t);if(i.unit!==`bytes`)throw Error(`Unsupported unit`);n.write(i.start,r)}}else{let e=i.headers.get(`Content-Range`);if(!e)throw Error(`Missing Content-Range header`);let t=me(e);if(t.unit!==`bytes`)throw Error(`Unsupported unit`);n.write(t.start,o)}return t.map(e=>n.read(e.from,e.to-e.from))}throw Error(`Unsupported response: ${i.status} ${i.statusText}`)}function pe(e,t){let n=Rt.encode(Lt+t),r=ge(e,n);if(f(r))throw Error(`Missing parts start`);let i=r+n.length,a=Rt.encode(It+Lt+t+Lt),o=_e(e,a);if(f(o))throw Error(`Missing parts end`);let s=Rt.encode(It+Lt+t),c=e.subarray(i,o),l=he(c,s);return l.map(e=>{let t=Rt.encode(It+It),n=ge(e,t);if(f(n))throw Error(`Missing headers end`);let r=Rt.encode(It),i=e.subarray(0,n),a=he(i,r),o=new Headers;for(let e of a){let t=zt.decode(e),[n,r]=t.split(`: `,2);n&&r&&o.append(n,r)}let s=n+t.length,c=e.slice(s);return{headers:o,body:c}})}function me(e){let t=RegExp(`^(?<unit>\\w+) (?<start>\\d+)-(?<end>\\d+)\\/(?<size>\\d+|\\*)$`,`u`).exec(e);if(!t||!t.groups)throw Error(`Invalid Content-Range header`);let{unit:n,start:r,end:i,size:a}=t.groups;return{unit:n,start:Number(r),end:Number(i),size:a===`*`?null:Number(a)}}function he(e,t){let n=[];for(;e.length>0;){let r=ge(e,t)??e.length,i=e.subarray(0,r);n.push(i),e=e.subarray(r+t.length)}return n}function ge(e,t){for(let n=0;n<e.length-t.length;n++){let r=e.subarray(n);if(ve(r,t))return n}}function _e(e,t){for(let n=e.length-t.length;n>=0;n--){let r=e.subarray(n);if(ve(r,t))return n}}function ve(e,t){for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function ye(e,t){let n=e.length+t.length,r=new Uint8Array(n);return r.set(e,0),r.set(t,e.length),r}function be(e){o(e.length>0,`Must have at least one range`);let t=[...e].sort((e,t)=>e.from-t.from),n=[];for(let e of t){let t=n.length-1,r=n[t];r&&e.from<=r.to?n[t]={from:r.from,to:Math.max(r.to,e.to)}:n.push(e)}let r=n.map(e=>`${e.from}-${e.to-1}`);return`bytes=${r.join(`,`)}`}async function xe(e,t,n){if(!n)return fe(e,t);let r=Ce(t),i=[],a=0;for(let e of r)i.push(`${e.from}-${e.to-1}`),a+=e.to-e.from;let o=new URL(e),s=i.join(`,`);o.searchParams.set(`range`,s);let c=await Pt(o);if(c.status!==200)throw Error(`Request failed: ${c.status} ${c.statusText}`);let l=await c.arrayBuffer(),u=new Uint8Array(l);if(u.length!==a)throw Error(`Request failed: Unexpected response length`);let d=new Vt,f=0;for(let e of r){let t=e.to-e.from,n=f+t,r=u.subarray(f,n);d.write(e.from,r),f=n}return t.map(e=>d.read(e.from,e.to-e.from))}function Se(e,t){let n=e.length+t.length,r=new Uint8Array(n);return r.set(e,0),r.set(t,e.length),r}function Ce(e){o(e.length>0,`Must have at least one range`);let t=[...e].sort((e,t)=>e.from-t.from),n=[];for(let e of t){let t=n.length-1,r=n[t];r&&e.from<=r.to?n[t]={from:r.from,to:Math.max(r.to,e.to)}:n.push(e)}return n}var we,V,H,Te,Ee,De,Oe,ke,Ae,je,Me,Ne,Pe,Fe,Ie,Le,Re,ze,Be,U,Ve,W,G,He,Ue,We,Ge,Ke,qe,Je,Ye,Xe,Ze,Qe,$e,K,q,et,tt,nt,rt,it,at,J,ot,st,ct,lt,Y,ut,X,dt,ft,pt,mt,ht,gt,_t,vt,yt,bt,xt,St,Ct,wt,Tt,Et,Dt,Ot,Z,Q,kt,$,At,jt,Mt,Nt,Pt,Ft,It,Lt,Rt,zt,Bt,Vt,Ht,Ut,Wt,Gt,Kt=e(()=>{for(i(),Te=Object.create,Ee=Object.defineProperty,De=Object.getOwnPropertyDescriptor,Oe=Object.getOwnPropertyNames,ke=Object.getPrototypeOf,Ae=Object.prototype.hasOwnProperty,je=(e,t)=>function(){return t||(0,e[Oe(e)[0]])((t={exports:{}}).exports,t),t.exports},Me=(e,t,n,r)=>{if(t&&typeof t==`object`||typeof t==`function`)for(let i of Oe(t))Ae.call(e,i)||i===n||Ee(e,i,{get:()=>t[i],enumerable:!(r=De(t,i))||r.enumerable});return e},Ne=(e,t,n)=>(n=e==null?{}:Te(ke(e)),Me(!t&&e&&e.__esModule?n:Ee(n,`default`,{value:e,enumerable:!0}),e)),Pe=je({"../../../node_modules/dataloader/index.js"(e,t){var n,r=function(){function e(e,t){if(typeof e!=`function`)throw TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: `+e+`.`);this._batchLoadFn=e,this._maxBatchSize=function(e){if(!(!e||!1!==e.batch))return 1;var t=e&&e.maxBatchSize;if(t===void 0)return 1/0;if(typeof t!=`number`||t<1)throw TypeError(`maxBatchSize must be a positive number: `+t);return t}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(t===void 0)return i;if(typeof t!=`function`)throw TypeError(`batchScheduleFn must be a function: `+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(e){return e};if(typeof t!=`function`)throw TypeError(`cacheKeyFn must be a function: `+t);return t}(t),this._cacheMap=function(e){if(!(!e||!1!==e.cache))return null;var t=e&&e.cacheMap;if(t===void 0)return new Map;if(t!==null){var n=[`get`,`set`,`delete`,`clear`].filter(function(e){return t&&typeof t[e]!=`function`});if(n.length!==0)throw TypeError(`Custom cacheMap missing methods: `+n.join(`, `))}return t}(t),this._batch=null,this.name=t&&t.name?t.name:null}var t=e.prototype;return t.load=function(e){if(e==null)throw TypeError(`The loader.load() function must be called with a value, but got: `+String(e)+`.`);var t=function(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){(function(e,t){var n;if(t.hasDispatched=!0,t.keys.length===0){o(t);return}try{n=e._batchLoadFn(t.keys)}catch(n){return a(e,t,TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: `+String(n)+`.`))}if(!n||typeof n.then!=`function`)return a(e,t,TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: `+String(n)+`.`));n.then(function(e){if(!s(e))throw TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: `+String(e)+`.`);if(e.length!==t.keys.length)throw TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.

Keys:
`+String(t.keys)+`

Values:
`+String(e));o(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}}).catch(function(n){a(e,t,n)})})(e,n)}),n}(this),n=this._cacheMap,r=this._cacheKeyFn(e);if(n){var i=n.get(r);if(i){var c=t.cacheHits||=[];return new Promise(function(e){c.push(function(){e(i)})})}}t.keys.push(e);var l=new Promise(function(e,n){t.callbacks.push({resolve:e,reject:n})});return n&&n.set(r,l),l},t.loadMany=function(e){if(!s(e))throw TypeError(`The loader.loadMany() function must be called with Array<key> but got: `+e+`.`);for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch(function(e){return e}));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,i=this._cacheKeyFn(e);n.get(i)===void 0&&(t instanceof Error?(r=Promise.reject(t)).catch(function(){}):r=Promise.resolve(t),n.set(i,r))}return this},e}(),i=typeof process==`object`&&typeof process.nextTick==`function`?function(e){n||=Promise.resolve(),n.then(function(){process.nextTick(e)})}:typeof setImmediate==`function`?function(e){setImmediate(e)}:function(e){setTimeout(e)};function a(e,t,n){o(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function o(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function s(e){return typeof e==`object`&&!!e&&typeof e.length==`number`&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}t.exports=r}}),Fe=je({"../../../node_modules/whatwg-mimetype/lib/utils.js"(e){e.removeLeadingAndTrailingHTTPWhitespace=e=>e.replace(/^[ \t\n\r]+/u,``).replace(/[ \t\n\r]+$/u,``),e.removeTrailingHTTPWhitespace=e=>e.replace(/[ \t\n\r]+$/u,``),e.isHTTPWhitespaceChar=e=>e===` `||e===`	`||e===`
`||e===`\r`,e.solelyContainsHTTPTokenCodePoints=e=>/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(e),e.soleyContainsHTTPQuotedStringTokenCodePoints=e=>/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(e),e.asciiLowercase=e=>e.replace(/[A-Z]/gu,e=>e.toLowerCase()),e.collectAnHTTPQuotedString=(e,t)=>{let n=``;for(t++;;){for(;t<e.length&&e[t]!==`"`&&e[t]!==`\\`;)n+=e[t],++t;if(t>=e.length)break;let r=e[t];if(++t,r===`\\`){if(t>=e.length){n+=`\\`;break}n+=e[t],++t}else break}return[n,t]}}}),Ie=je({"../../../node_modules/whatwg-mimetype/lib/mime-type-parameters.js"(e,t){var{asciiLowercase:n,solelyContainsHTTPTokenCodePoints:r,soleyContainsHTTPQuotedStringTokenCodePoints:i}=Fe();t.exports=class{get size(){return this._map.size}get(e){return e=n(String(e)),this._map.get(e)}has(e){return e=n(String(e)),this._map.has(e)}set(e,t){if(e=n(String(e)),t=String(t),!r(e))throw Error(`Invalid MIME type parameter name "${e}": only HTTP token code points are valid.`);if(!i(t))throw Error(`Invalid MIME type parameter value "${t}": only HTTP quoted-string token code points are valid.`);return this._map.set(e,t)}clear(){this._map.clear()}delete(e){return e=n(String(e)),this._map.delete(e)}forEach(e,t){this._map.forEach(e,t)}keys(){return this._map.keys()}values(){return this._map.values()}entries(){return this._map.entries()}[Symbol.iterator](){return this._map[Symbol.iterator]()}constructor(e){this._map=e}}}}),Le=je({"../../../node_modules/whatwg-mimetype/lib/parser.js"(e,t){var{removeLeadingAndTrailingHTTPWhitespace:n,removeTrailingHTTPWhitespace:r,isHTTPWhitespaceChar:i,solelyContainsHTTPTokenCodePoints:a,soleyContainsHTTPQuotedStringTokenCodePoints:o,asciiLowercase:s,collectAnHTTPQuotedString:c}=Fe();t.exports=e=>{e=n(e);let t=0,l=``;for(;t<e.length&&e[t]!==`/`;)l+=e[t],++t;if(l.length===0||!a(l)||t>=e.length)return null;++t;let u=``;for(;t<e.length&&e[t]!==`;`;)u+=e[t],++t;if((u=r(u)).length===0||!a(u))return null;let d={type:s(l),subtype:s(u),parameters:new Map};for(;t<e.length;){for(++t;i(e[t]);)++t;let n=``;for(;t<e.length&&e[t]!==`;`&&e[t]!==`=`;)n+=e[t],++t;if(n=s(n),t<e.length){if(e[t]===`;`)continue;++t}let l=null;if(e[t]===`"`)for([l,t]=c(e,t);t<e.length&&e[t]!==`;`;)++t;else{for(l=``;t<e.length&&e[t]!==`;`;)l+=e[t],++t;if((l=r(l))===``)continue}n.length>0&&a(n)&&o(l)&&!d.parameters.has(n)&&d.parameters.set(n,l)}return d}}}),Re=je({"../../../node_modules/whatwg-mimetype/lib/serializer.js"(e,t){var{solelyContainsHTTPTokenCodePoints:n}=Fe();t.exports=e=>{let t=`${e.type}/${e.subtype}`;if(e.parameters.size===0)return t;for(let[r,i]of e.parameters)t+=`;`+r+`=`,n(i)&&i.length!==0||(i=i.replace(/(["\\])/gu,`\\$1`),i=`"${i}"`),t+=i;return t}}}),ze=je({"../../../node_modules/whatwg-mimetype/lib/mime-type.js"(e,t){var n=Ie(),r=Le(),i=Re(),{asciiLowercase:a,solelyContainsHTTPTokenCodePoints:o}=Fe();t.exports=class{static parse(e){try{return new this(e)}catch{return null}}get essence(){return`${this.type}/${this.subtype}`}get type(){return this._type}set type(e){if((e=a(String(e))).length===0)throw Error(`Invalid type: must be a non-empty string`);if(!o(e))throw Error(`Invalid type ${e}: must contain only HTTP token code points`);this._type=e}get subtype(){return this._subtype}set subtype(e){if((e=a(String(e))).length===0)throw Error(`Invalid subtype: must be a non-empty string`);if(!o(e))throw Error(`Invalid subtype ${e}: must contain only HTTP token code points`);this._subtype=e}get parameters(){return this._parameters}toString(){return i(this)}isJavaScript({prohibitParameters:e=!1}={}){switch(this._type){case`text`:switch(this._subtype){case`ecmascript`:case`javascript`:case`javascript1.0`:case`javascript1.1`:case`javascript1.2`:case`javascript1.3`:case`javascript1.4`:case`javascript1.5`:case`jscript`:case`livescript`:case`x-ecmascript`:case`x-javascript`:return!e||this._parameters.size===0;default:return!1}case`application`:switch(this._subtype){case`ecmascript`:case`javascript`:case`x-ecmascript`:case`x-javascript`:return!e||this._parameters.size===0;default:return!1}default:return!1}}isXML(){return this._subtype===`xml`&&(this._type===`text`||this._type===`application`)||this._subtype.endsWith(`+xml`)}isHTML(){return this._subtype===`html`&&this._type===`text`}constructor(e){e=String(e);let t=r(e);if(t===null)throw Error(`Could not parse MIME type string "${e}"`);this._type=t.type,this._subtype=t.subtype,this._parameters=new n(t.parameters)}}}}),Be=Ne(Pe()),U={Uint8:1,Uint16:2,Uint32:4,BigUint64:8,Int8:1,Int16:2,Int32:4,BigInt64:8,Float32:4,Float64:8},Ve=class{getOffset(){return this.offset}ensureLength(e){let t=this.bytes.length;if(!(this.offset+e<=t))throw Error(`Reading out of bounds`)}readUint8(){let e=U.Uint8;this.ensureLength(e);let t=this.view.getUint8(this.offset);return this.offset+=e,t}readUint16(){let e=U.Uint16;this.ensureLength(e);let t=this.view.getUint16(this.offset);return this.offset+=e,t}readUint32(){let e=U.Uint32;this.ensureLength(e);let t=this.view.getUint32(this.offset);return this.offset+=e,t}readUint64(){let e=this.readBigUint64();return Number(e)}readBigUint64(){let e=U.BigUint64;this.ensureLength(e);let t=this.view.getBigUint64(this.offset);return this.offset+=e,t}readInt8(){let e=U.Int8;this.ensureLength(e);let t=this.view.getInt8(this.offset);return this.offset+=e,t}readInt16(){let e=U.Int16;this.ensureLength(e);let t=this.view.getInt16(this.offset);return this.offset+=e,t}readInt32(){let e=U.Int32;this.ensureLength(e);let t=this.view.getInt32(this.offset);return this.offset+=e,t}readInt64(){let e=this.readBigInt64();return Number(e)}readBigInt64(){let e=U.BigInt64;this.ensureLength(e);let t=this.view.getBigInt64(this.offset);return this.offset+=e,t}readFloat32(){let e=U.Float32;this.ensureLength(e);let t=this.view.getFloat32(this.offset);return this.offset+=e,t}readFloat64(){let e=U.Float64;this.ensureLength(e);let t=this.view.getFloat64(this.offset);return this.offset+=e,t}readBytes(e){let t=this.offset,n=t+e,r=this.bytes.subarray(t,n);return this.offset=n,r}readString(){let e=this.readUint32(),t=this.readBytes(e);return this.decoder.decode(t)}readJson(){let e=this.readString();return JSON.parse(e)}constructor(e){this.bytes=e,this.offset=0,this.view=a(this.bytes),this.decoder=new TextDecoder}},W=Uint8Array,G=Uint16Array,He=Int32Array,Ue=new W([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),We=new W([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ge=new W([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ke=function(e,t){for(var n=new G(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new He(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},qe=Ke(Ue,2),Je=qe.b,Ye=qe.r,Je[28]=258,Ye[258]=28,Xe=Ke(We,0),Ze=Xe.b,Qe=Xe.r,$e=new G(32768),V=0;V<32768;++V)we=(61680&(we=(52428&(we=(43690&V)>>1|(21845&V)<<1))>>2|(13107&we)<<2))>>4|(3855&we)<<4,$e[V]=((65280&we)>>8|(255&we)<<8)>>1;for(K=function(e,t,n){for(var r,i=e.length,a=0,o=new G(t);a<i;++a)e[a]&&++o[e[a]-1];var s=new G(t);for(a=1;a<t;++a)s[a]=s[a-1]+o[a-1]<<1;if(n){r=new G(1<<t);var c=15-t;for(a=0;a<i;++a)if(e[a])for(var l=a<<4|e[a],u=t-e[a],d=s[e[a]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)r[$e[d]>>c]=l}else for(a=0,r=new G(i);a<i;++a)e[a]&&(r[a]=$e[s[e[a]-1]++]>>15-e[a]);return r},q=new W(288),V=0;V<144;++V)q[V]=8;for(V=144;V<256;++V)q[V]=9;for(V=256;V<280;++V)q[V]=7;for(V=280;V<288;++V)q[V]=8;for(et=new W(32),V=0;V<32;++V)et[V]=5;tt=K(q,9,0),nt=K(q,9,1),rt=K(et,5,0),it=K(et,5,1),at=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},J=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},ot=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},st=function(e){return(e+7)/8|0},ct=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new W(e.subarray(t,n))},lt=[`unexpected EOF`,`invalid block type`,`invalid length/literal`,`invalid distance`,`stream finished`,`no stream handler`,,`no callback`,`invalid UTF-8 data`,`extra field too long`,`date not in range 1980-2099`,`filename too long`,`stream finishing`,`invalid zip data`],Y=function(e,t,n){var r=Error(t||lt[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Y),!n)throw r;return r},ut=function(e,t,n,r){var i=e.length,a=r?r.length:0;if(!i||t.f&&!t.l)return n||new W(0);var o=!n,s=o||t.i!=2,c=t.i;o&&(n=new W(3*i));var l=function(e){var t=n.length;if(e>t){var r=new W(Math.max(2*t,e));r.set(n),n=r}},u=t.f||0,d=t.p||0,f=t.b||0,p=t.l,m=t.d,h=t.m,g=t.n,_=8*i;do{if(!p){u=J(e,d,1);var v=J(e,d+1,3);if(d+=3,v)if(v==1)p=nt,m=it,h=9,g=5;else if(v==2){var y=J(e,d,31)+257,b=J(e,d+10,15)+4,x=y+J(e,d+5,31)+1;d+=14;for(var S=new W(x),ee=new W(19),C=0;C<b;++C)ee[Ge[C]]=J(e,d+3*C,7);d+=3*b;for(var w=at(ee),T=(1<<w)-1,E=K(ee,w,1),C=0;C<x;){var D=E[J(e,d,T)];d+=15&D;var O=D>>4;if(O<16)S[C++]=O;else{var k=0,A=0;for(O==16?(A=3+J(e,d,3),d+=2,k=S[C-1]):O==17?(A=3+J(e,d,7),d+=3):O==18&&(A=11+J(e,d,127),d+=7);A--;)S[C++]=k}}var j=S.subarray(0,y),M=S.subarray(y);h=at(j),g=at(M),p=K(j,h,1),m=K(M,g,1)}else Y(1);else{var O=st(d)+4,N=e[O-4]|e[O-3]<<8,P=O+N;if(P>i){c&&Y(0);break}s&&l(f+N),n.set(e.subarray(O,P),f),t.b=f+=N,t.p=d=8*P,t.f=u;continue}if(d>_){c&&Y(0);break}}s&&l(f+131072);for(var te=(1<<h)-1,F=(1<<g)-1,I=d;;I=d){var k=p[ot(e,d)&te],L=k>>4;if((d+=15&k)>_){c&&Y(0);break}if(k||Y(2),L<256)n[f++]=L;else if(L==256){I=d,p=null;break}else{var R=L-254;if(L>264){var C=L-257,z=Ue[C];R=J(e,d,(1<<z)-1)+Je[C],d+=z}var B=m[ot(e,d)&F],ne=B>>4;B||Y(3),d+=15&B;var M=Ze[ne];if(ne>3){var z=We[ne];M+=ot(e,d)&(1<<z)-1,d+=z}if(d>_){c&&Y(0);break}s&&l(f+131072);var re=f+R;if(f<M){var ie=a-M,ae=Math.min(M,re);for(ie+f<0&&Y(3);f<ae;++f)n[f]=r[ie+f]}for(;f<re;++f)n[f]=n[f-M]}}t.l=p,t.p=I,t.b=f,t.f=u,p&&(u=1,t.m=h,t.d=m,t.n=g)}while(!u);return f!=n.length&&o?ct(n,0,f):n.subarray(0,f)},X=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},dt=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},ft=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:yt,l:0};if(i==1){var o=new W(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var s=n[0],c=n[1],l=0,u=1,d=2;for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=n[n[l].f<n[d].f?l++:d++],c=n[l!=u&&n[l].f<n[d].f?l++:d++],n[u++]={s:-1,f:s.f+c.f,l:s,r:c};for(var f=a[0].s,r=1;r<i;++r)a[r].s>f&&(f=a[r].s);var p=new G(f+1),m=pt(n[u-1],p,0);if(m>t){var r=0,h=0,g=m-t,_=1<<g;for(a.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<i;++r){var v=a[r].s;if(p[v]>t)h+=_-(1<<m-p[v]),p[v]=t;else break}for(h>>=g;h>0;){var y=a[r].s;p[y]<t?h-=1<<t-p[y]++-1:++r}for(;r>=0&&h;--r){var b=a[r].s;p[b]==t&&(--p[b],++h)}m=t}return{t:new W(p),l:m}},pt=function(e,t,n){return e.s==-1?Math.max(pt(e.l,t,n+1),pt(e.r,t,n+1)):t[e.s]=n},mt=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new G(++t),r=0,i=e[0],a=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:n.subarray(0,r),n:t}},ht=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},gt=function(e,t,n){var r=n.length,i=st(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},_t=function(e,t,n,r,i,a,o,s,c,l,u){X(t,u++,n),++i[256];for(var d,f,p,m,h=ft(i,15),g=h.t,_=h.l,v=ft(a,15),y=v.t,b=v.l,x=mt(g),S=x.c,ee=x.n,C=mt(y),w=C.c,T=C.n,E=new G(19),D=0;D<S.length;++D)++E[31&S[D]];for(var D=0;D<w.length;++D)++E[31&w[D]];for(var O=ft(E,7),k=O.t,A=O.l,j=19;j>4&&!k[Ge[j-1]];--j);var M=l+5<<3,N=ht(i,q)+ht(a,et)+o,P=ht(i,g)+ht(a,y)+o+14+3*j+ht(E,k)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&M<=N&&M<=P)return gt(t,u,e.subarray(c,c+l));if(X(t,u,1+(P<N)),u+=2,P<N){d=K(g,_,0),f=g,p=K(y,b,0),m=y;var te=K(k,A,0);X(t,u,ee-257),X(t,u+5,T-1),X(t,u+10,j-4),u+=14;for(var D=0;D<j;++D)X(t,u+3*D,k[Ge[D]]);u+=3*j;for(var F=[S,w],I=0;I<2;++I)for(var L=F[I],D=0;D<L.length;++D){var R=31&L[D];X(t,u,te[R]),u+=k[R],R>15&&(X(t,u,L[D]>>5&127),u+=L[D]>>12)}}else d=tt,f=q,p=rt,m=et;for(var D=0;D<s;++D){var z=r[D];if(z>255){var R=z>>18&31;dt(t,u,d[R+257]),u+=f[R+257],R>7&&(X(t,u,z>>23&31),u+=Ue[R]);var B=31&z;dt(t,u,p[B]),u+=m[B],B>3&&(dt(t,u,z>>5&8191),u+=We[B])}else dt(t,u,d[z]),u+=f[z]}return dt(t,u,d[256]),u+f[256]},vt=new He([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yt=new W(0),bt=function(e,t,n,r,i,a){var o=a.z||e.length,s=new W(r+o+5*(1+Math.ceil(o/7e3))+i),c=s.subarray(r,s.length-i),l=a.l,u=7&(a.r||0);if(t){u&&(c[0]=a.r>>3);for(var d=vt[t-1],f=d>>13,p=8191&d,m=(1<<n)-1,h=a.p||new G(32768),g=a.h||new G(m+1),_=Math.ceil(n/3),v=2*_,y=function(t){return(e[t]^e[t+1]<<_^e[t+2]<<v)&m},b=new He(25e3),x=new G(288),S=new G(32),ee=0,C=0,w=a.i||0,T=0,E=a.w||0,D=0;w+2<o;++w){var O=y(w),k=32767&w,A=g[O];if(h[k]=A,g[O]=k,E<=w){var j=o-w;if((ee>7e3||T>24576)&&(j>423||!l)){u=_t(e,c,0,b,x,S,C,T,D,w-D,u),T=ee=C=0,D=w;for(var M=0;M<286;++M)x[M]=0;for(var M=0;M<30;++M)S[M]=0}var N=2,P=0,te=p,F=k-A&32767;if(j>2&&O==y(w-F))for(var I=Math.min(f,j)-1,L=Math.min(32767,w),R=Math.min(258,j);F<=L&&--te&&k!=A;){if(e[w+N]==e[w+N-F]){for(var z=0;z<R&&e[w+z]==e[w+z-F];++z);if(z>N){if(N=z,P=F,z>I)break;for(var B=Math.min(F,z-2),ne=0,M=0;M<B;++M){var re=w-F+M&32767,ie=h[re],ae=re-ie&32767;ae>ne&&(ne=ae,A=re)}}}A=h[k=A],F+=k-A&32767}if(P){b[T++]=268435456|Ye[N]<<18|Qe[P];var oe=31&Ye[N],se=31&Qe[P];C+=Ue[oe]+We[se],++x[257+oe],++S[se],E=w+N,++ee}else b[T++]=e[w],++x[e[w]]}}for(w=Math.max(w,E);w<o;++w)b[T++]=e[w],++x[e[w]];u=_t(e,c,l,b,x,S,C,T,D,w-D,u),l||(a.r=7&u|c[u/8|0]<<3,u-=7,a.h=g,a.p=h,a.i=w,a.w=E)}else{for(var w=a.w||0;w<o+l;w+=65535){var ce=w+65535;ce>=o&&(c[u/8|0]=l,ce=o),u=gt(c,u+1,e.subarray(w,ce))}a.i=o}return ct(s,0,r+st(u)+i)},xt=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new W(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return bt(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,i)},St=typeof TextDecoder<`u`&&new TextDecoder,Ct=0;try{St.decode(yt,{stream:!0}),Ct=1}catch{}wt=1024,Tt=1.5,Et=e=>2**e-1,Dt=e=>-(2**(e-1)),Ot=e=>2**(e-1)-1,Z={Uint8:0,Uint16:0,Uint32:0,Uint64:0,BigUint64:0,Int8:Dt(8),Int16:Dt(16),Int32:Dt(32),Int64:-(2**53-1),BigInt64:-(BigInt(2)**BigInt(63))},Q={Uint8:Et(8),Uint16:Et(16),Uint32:Et(32),Uint64:2**53-1,BigUint64:BigInt(2)**BigInt(64)-BigInt(1),Int8:Ot(8),Int16:Ot(16),Int32:Ot(32),Int64:2**53-1,BigInt64:BigInt(2)**BigInt(63)-BigInt(1)},kt=class{getOffset(){return this.offset}slice(e=0,t=this.offset){return this.bytes.slice(e,t)}subarray(e=0,t=this.offset){return this.bytes.subarray(e,t)}ensureLength(e){let t=this.bytes.length;if(this.offset+e<=t)return;let n=new Uint8Array(Math.ceil(t*Tt)+e);n.set(this.bytes),this.bytes=n,this.view=a(n)}writeUint8(e){u(e,Z.Uint8,Q.Uint8,`Uint8`);let t=U.Uint8;this.ensureLength(t),this.view.setUint8(this.offset,e),this.offset+=t}writeUint16(e){u(e,Z.Uint16,Q.Uint16,`Uint16`);let t=U.Uint16;this.ensureLength(t),this.view.setUint16(this.offset,e),this.offset+=t}writeUint32(e){u(e,Z.Uint32,Q.Uint32,`Uint32`);let t=U.Uint32;this.ensureLength(t),this.view.setUint32(this.offset,e),this.offset+=t}writeUint64(e){u(e,Z.Uint64,Q.Uint64,`Uint64`);let t=BigInt(e);this.writeBigUint64(t)}writeBigUint64(e){u(e,Z.BigUint64,Q.BigUint64,`BigUint64`);let t=U.BigUint64;this.ensureLength(t),this.view.setBigUint64(this.offset,e),this.offset+=t}writeInt8(e){u(e,Z.Int8,Q.Int8,`Int8`);let t=U.Int8;this.ensureLength(t),this.view.setInt8(this.offset,e),this.offset+=t}writeInt16(e){u(e,Z.Int16,Q.Int16,`Int16`);let t=U.Int16;this.ensureLength(t),this.view.setInt16(this.offset,e),this.offset+=t}writeInt32(e){u(e,Z.Int32,Q.Int32,`Int32`);let t=U.Int32;this.ensureLength(t),this.view.setInt32(this.offset,e),this.offset+=t}writeInt64(e){u(e,Z.Int64,Q.Int64,`Int64`);let t=BigInt(e);this.writeBigInt64(t)}writeBigInt64(e){u(e,Z.BigInt64,Q.BigInt64,`BigInt64`);let t=U.BigInt64;this.ensureLength(t),this.view.setBigInt64(this.offset,e),this.offset+=t}writeFloat32(e){let t=U.Float32;this.ensureLength(t),this.view.setFloat32(this.offset,e),this.offset+=t}writeFloat64(e){let t=U.Float64;this.ensureLength(t),this.view.setFloat64(this.offset,e),this.offset+=t}writeBytes(e){let t=e.length;this.ensureLength(t),this.bytes.set(e,this.offset),this.offset+=t}encodeString(e){let t=this.encodedStrings.get(e);if(t)return t;let n=this.encoder.encode(e);return this.encodedStrings.set(e,n),n}writeString(e){let t=this.encodeString(e),n=t.length;this.writeUint32(n),this.writeBytes(t)}writeJson(e){let t=JSON.stringify(e);this.writeString(t)}constructor(){this.offset=0,this.bytes=new Uint8Array(wt),this.view=a(this.bytes),this.encoder=new TextEncoder,this.encodedStrings=new Map}},$=class{static fromString(e){let[t,n,r]=e.split(`/`).map(Number);return o(d(t),`Invalid chunkId`),o(d(n),`Invalid offset`),o(d(r),`Invalid length`),new $(t,n,r)}toString(){return`${this.chunkId}/${this.offset}/${this.length}`}static read(e){let t=e.readUint16(),n=e.readUint32(),r=e.readUint32();return new $(t,n,r)}write(e){e.writeUint16(this.chunkId),e.writeUint32(this.offset),e.writeUint32(this.length)}compare(e){return this.chunkId<e.chunkId?-1:this.chunkId>e.chunkId?1:this.offset<e.offset?-1:this.offset>e.offset?1:(o(this.length===e.length),0)}constructor(e,t,n){this.chunkId=e,this.offset=t,this.length=n}},(e=>{e.read=function(e){let t=e.readUint8();switch(t){case 0:return null;case 1:return h(e);case 2:return v(e);case 3:return x(e);case 4:return C(e);case 5:return E(e);case 6:return k(e);case 7:return M(e);case 8:return te(e);case 9:return L(e);case 10:return B(e);case 11:return ie(e);case 12:return se(e);default:s(t)}},e.write=function(e,n){let r=m(n);if(e.writeUint8(r),!p(n))switch(n.type){case t.Array:return g(e,n);case t.Boolean:return y(e,n);case t.Color:return S(e,n);case t.Date:return w(e,n);case t.Enum:return D(e,n);case t.File:return A(e,n);case t.Link:return N(e,n);case t.Number:return F(e,n);case t.Object:return R(e,n);case t.ResponsiveImage:return ne(e,n);case t.RichText:return ae(e,n);case t.String:return ce(e,n);default:s(n)}},e.compare=function(e,n,r){let i=m(e),a=m(n);if(i<a)return-1;if(i>a)return 1;if(p(e)||p(n))return 0;switch(e.type){case t.Array:return o(n.type===t.Array),_(e,n,r);case t.Boolean:return o(n.type===t.Boolean),b(e,n);case t.Color:return o(n.type===t.Color),ee(e,n);case t.Date:return o(n.type===t.Date),T(e,n);case t.Enum:return o(n.type===t.Enum),O(e,n);case t.File:return o(n.type===t.File),j(e,n);case t.Link:return o(n.type===t.Link),P(e,n);case t.Number:return o(n.type===t.Number),I(e,n);case t.Object:return o(n.type===t.Object),z(e,n,r);case t.ResponsiveImage:return o(n.type===t.ResponsiveImage),re(e,n);case t.RichText:return o(n.type===t.RichText),oe(e,n);case t.String:return o(n.type===t.String),le(e,n,r);default:s(e)}}})(H||={}),At=class{sortEntries(){this.entries.sort((e,t)=>{for(let n=0;n<this.fieldNames.length;n++){let r=e.values[n],i=t.values[n],a=H.compare(r,i,this.options.collation);if(a!==0)return a}return e.pointer.compare(t.pointer)})}static deserialize(e,t){t||(e=l(e));let n=new Ve(e),r=n.readJson(),i=n.readUint8(),a=[];for(let e=0;e<i;e++){let e=n.readString();a.push(e)}let o=new At(a,{collation:r,cmsBackendCompression:t}),s=n.readUint32();for(let e=0;e<s;e++){let e=[];for(let t=0;t<i;t++){let t=H.read(n);e.push(t)}let t=$.read(n);o.entries.push({values:e,pointer:t})}return o}serialize(){let e=new kt;for(let t of(e.writeJson(this.options.collation),e.writeUint8(this.fieldNames.length),this.fieldNames))e.writeString(t);for(let t of(this.sortEntries(),e.writeUint32(this.entries.length),this.entries)){let{values:n,pointer:r}=t;for(let t of n)H.write(e,t);r.write(e)}let t=e.subarray();return this.options.cmsBackendCompression?t:c(t)}addItem(e,t){let n=this.fieldNames.map(t=>e.getField(t)??null);this.entries.push({values:n,pointer:t})}constructor(e,t){this.fieldNames=e,this.options=t,this.entries=[]}},jt=3,Mt=250,Nt=[408,429,500,502,503,504],Pt=async(e,t)=>{let n=0;for(;;){try{let r=await fetch(e,t);if(!Nt.includes(r.status)||++n>jt)return r}catch(e){if(t?.signal?.aborted||++n>jt)throw e}await ue(n)}},Ft=Ne(ze()),It=`\r
`,Lt=`--`,Rt=new TextEncoder,zt=new TextDecoder,Bt=class{read(e,t){for(let n of this.chunks){if(e<n.start)break;if(e>n.end)continue;if(e+t>n.end)break;let r=e-n.start,i=r+t;return n.data.slice(r,i)}throw Error(`Missing data`)}write(e,t){let n=e,r=n+t.length,i=0,a=this.chunks.length;for(;i<a;i++){let e=this.chunks[i];if(o(e,`Missing chunk`),!(n>e.end)){if(n>e.start){let r=n-e.start,i=e.data.subarray(0,r);t=ye(i,t),n=e.start}break}}for(;a>i;a--){let e=this.chunks[a-1];if(o(e,`Missing chunk`),!(r<e.start)){if(r<e.end){let n=r-e.start,i=e.data.subarray(n);t=ye(t,i),r=e.end}break}}let s={start:n,end:r,data:t},c=a-i;this.chunks.splice(i,c,s)}constructor(){this.chunks=[]}},Vt=class{read(e,t){for(let n of this.chunks){if(e<n.start)break;if(e>n.end)continue;if(e+t>n.end)break;let r=e-n.start,i=r+t;return n.data.slice(r,i)}throw Error(`Missing data`)}write(e,t){let n=e,r=n+t.length,i=0,a=this.chunks.length;for(;i<a;i++){let e=this.chunks[i];if(o(e,`Missing chunk`),!(n>e.end)){if(n>e.start){let r=n-e.start,i=e.data.subarray(0,r);t=Se(i,t),n=e.start}break}}for(;a>i;a--){let e=this.chunks[a-1];if(o(e,`Missing chunk`),!(r<e.start)){if(r<e.end){let n=r-e.start,i=e.data.subarray(n);t=Se(t,i),r=e.end}break}}let s={start:n,end:r,data:t},c=a-i;this.chunks.splice(i,c,s)}constructor(){this.chunks=[]}},Ht=class{async loadModel(){let[e]=await xe(this.options.url,[this.options.range],this.options.cmsBackendCompression);return o(e,`Failed to load model`),At.deserialize(e,this.options.cmsBackendCompression)}async getModel(){return this.modelPromise??=this.loadModel(),this.model??=await this.modelPromise,this.model}async lookupItems(e){o(e.length===this.fields.length,`Invalid query length`);let t=await this.getModel(),n=e.reduce((e,t,n)=>e.flatMap(e=>{switch(t.type){case`All`:return[e];case`Equals`:return this.queryEquals(e,t,n);case`NotEquals`:return this.queryNotEquals(e,t,n);case`LessThan`:return this.queryLessThan(e,t,n);case`GreaterThan`:return this.queryGreaterThan(e,t,n);case`Contains`:return this.queryContains(e,t,n);case`StartsWith`:return this.queryStartsWith(e,t,n);case`EndsWith`:return this.queryEndsWith(e,t,n);default:s(t)}}),[t.entries]),r=[];for(let e of n)for(let t of e){let e={};for(let n=0;n<this.options.fieldNames.length;n++){let r=this.options.fieldNames[n],i=t.values[n];e[r]=i}r.push({pointer:t.pointer.toString(),data:e})}return r}queryEquals(e,t,n){let r=this.getLeftMost(e,n,t.value),i=this.getRightMost(e,n,t.value),a=e.slice(r,i+1);return a.length>0?[a]:[]}queryNotEquals(e,t,n){let r=this.getLeftMost(e,n,t.value),i=this.getRightMost(e,n,t.value),a=[],o=e.slice(0,r);o.length>0&&a.push(o);let s=e.slice(i+1);return s.length>0&&a.push(s),a}queryLessThan(e,t,n){let r=this.getRightMost(e,n,null);if(e=e.slice(r+1),t.inclusive){let r=this.getRightMost(e,n,t.value),i=e.slice(0,r+1);return i.length>0?[i]:[]}let i=this.getLeftMost(e,n,t.value),a=e.slice(0,i);return a.length>0?[a]:[]}queryGreaterThan(e,t,n){let r=this.getRightMost(e,n,null);if(e=e.slice(r+1),t.inclusive){let r=this.getLeftMost(e,n,t.value),i=e.slice(r);return i.length>0?[i]:[]}let i=this.getRightMost(e,n,t.value),a=e.slice(i+1);return a.length>0?[a]:[]}queryContains(e,n,r){return this.findItems(e,r,e=>{if(e?.type!==t.String||n.value?.type!==t.String)return!1;let r=e.value,i=n.value.value;return this.collation.type===0&&(r=r.toLowerCase(),i=i.toLowerCase()),r.includes(i)})}queryStartsWith(e,n,r){return this.findItems(e,r,e=>{if(e?.type!==t.String||n.value?.type!==t.String)return!1;let r=e.value,i=n.value.value;return this.collation.type===0&&(r=r.toLowerCase(),i=i.toLowerCase()),r.startsWith(i)})}queryEndsWith(e,n,r){return this.findItems(e,r,e=>{if(e?.type!==t.String||n.value?.type!==t.String)return!1;let r=e.value,i=n.value.value;return this.collation.type===0&&(r=r.toLowerCase(),i=i.toLowerCase()),r.endsWith(i)})}getLeftMost(e,t,n){let r=0,i=e.length;for(;r<i;){let a=r+i>>1,o=e[a],s=o.values[t];0>H.compare(s,n,this.collation)?r=a+1:i=a}return r}getRightMost(e,t,n){let r=0,i=e.length;for(;r<i;){let a=r+i>>1,o=e[a],s=o.values[t];H.compare(s,n,this.collation)>0?i=a:r=a+1}return i-1}findItems(e,t,n){let r=[],i=0;for(let a=0;a<e.length;a++){let o=e[a],s=o.values[t],c=n(s);if(!c){if(i<a){let t=e.slice(i,a);r.push(t)}i=a+1}}if(i<e.length){let t=e.slice(i);r.push(t)}return r}constructor(e){this.options=e,this.supportedLookupTypes=[`All`,`Equals`,`NotEquals`,`LessThan`,`GreaterThan`,`Contains`,`StartsWith`,`EndsWith`],this.collation=this.options.collation;let t={},n=[];for(let e of this.options.fieldNames){let r=this.options.collectionSchema[e];o(r,`Missing definition for field`,e),t[e]=r,n.push({type:`Identifier`,name:e})}this.schema=t,this.fields=n}},Ut=class{static read(e,t){let n=new Ut;if(t){let n=e.readUint32(),r=e.readBytes(n),i=l(r,{dictionary:t});e=new Ve(i)}let r=e.readUint16();for(let t=0;t<r;t++){let t=e.readString(),r=H.read(e);n.setField(t,r)}return n}writeUncompressed(e){for(let[t,n]of(e.writeUint16(this.fields.size),this.fields))e.writeString(t),H.write(e,n)}write(e,t){if(t){let n=new kt;this.writeUncompressed(n);let r=c(n.subarray(),{dictionary:t});e.writeUint32(r.length),e.writeBytes(r)}else this.writeUncompressed(e)}getData(){let e={};for(let[t,n]of this.fields)e[t]=n;return e}setField(e,t){this.fields.set(e,t)}getField(e){return this.fields.get(e)}constructor(){this.fields=new Map}},Wt=class{scanItems(){return this.itemsPromise??=Promise.all([Pt(this.url),this.getCompressionDictionary()]).then(async([e,t])=>{if(!e.ok)throw Error(`Request failed: ${e.status} ${e.statusText}`);let n=await e.arrayBuffer(),r=new Uint8Array(n),i=new Ve(r),a=[],o=i.readUint32();for(let e=0;e<o;e++){let e=i.getOffset(),n=Ut.read(i,t),r=i.getOffset()-e,o=new $(this.id,e,r),s=o.toString(),c={pointer:s,data:n.getData()};this.itemLoader.prime(s,c),a.push(c)}return a}),this.itemsPromise}resolveItem(e){return this.itemLoader.load(e)}getCompressionDictionary(){if(!this.compressionDictionaryUrl)return null;let e=this.compressionDictionaryCache.get(this.compressionDictionaryUrl);if(e)return e;let t=Pt(this.compressionDictionaryUrl).then(async e=>{if(!e.ok)throw Error(`Compression dictionary request failed: ${e.status} ${e.statusText}`);let t=await e.arrayBuffer();return new Uint8Array(t)});return this.compressionDictionaryCache.set(this.compressionDictionaryUrl,t),t}constructor(e,t,n,r){this.id=e,this.url=t,this.compressionDictionaryUrl=n,this.compressionDictionaryCache=r,this.itemLoader=new Be.default(async e=>{let t=e.map(e=>{let t=$.fromString(e);return{from:t.offset,to:t.offset+t.length}}),[n,r]=await Promise.all([xe(this.url,t,!this.compressionDictionaryUrl),this.getCompressionDictionary()]);return n.map((t,n)=>{let i=new Ve(t),a=Ut.read(i,r),s=e[n];return o(s,`Missing pointer`),{pointer:s,data:a.getData()}})})}},Gt=class{async scanItems(){let e=await Promise.all(this.chunks.map(async e=>e.scanItems()));return e.flat()}async resolveItems(e){return Promise.all(e.map(e=>{let t=$.fromString(e),n=this.chunks[t.chunkId];return o(n,`Missing chunk`),n.resolveItem(e)}))}compareItems(e,t){let n=$.fromString(e.pointer),r=$.fromString(t.pointer);return n.compare(r)}compareValues(e,t,n){return H.compare(e,t,n)}constructor(e){this.options=e,this.schema=this.options.schema,this.indexes=this.options.indexes,this.resolveRichText=this.options.resolveRichText;let t=new Map;this.chunks=this.options.chunks.map((e,n)=>new Wt(n,e,this.options.compressionDictionary,t))}}});async function qt(e){let t=Xt[e];if(t)return await t()}var Jt,Yt,Xt,Zt=e(()=>{Jt=(e,t)=>async()=>{let n=await e();return n[t]},Yt=()=>import(`./S8xkpwiby-2.RLdPqOpJ.mjs`),Xt=[Jt(Yt,`richText`),Jt(Yt,`richText1`),Jt(Yt,`richText2`),Jt(Yt,`richText3`),Jt(Yt,`richText4`)]}),Qt,$t,en,tn,nn,rn,an,on=e(()=>{i(),Kt(),Zt(),Qt={AzdUydboP:{isNullable:!0,type:t.String},CaMuWTseY:{isNullable:!0,type:t.String},CdBVTsFTu:{isNullable:!0,type:t.String},CgLfZhsfI:{isNullable:!0,type:t.ResponsiveImage},e9oRpuTnI:{isNullable:!0,type:t.String},id:{isNullable:!1,type:t.String},iXN8dGjqe:{isNullable:!0,type:t.String},kBl2R9IS1:{isNullable:!0,type:t.String},kg4o6X7lZ:{isNullable:!0,type:t.String},LDgxd28F3:{definition:{definitions:{id:{isNullable:!1,type:t.String},QBMBNQ3FX:{isNullable:!0,type:t.ResponsiveImage}},isNullable:!0,type:t.Object},isNullable:!0,type:t.Array},LIl1LmjQz:{isNullable:!0,type:t.String},MncjbZVH8:{isNullable:!0,type:t.String},nextItemId:{isNullable:!0,type:t.String},PQQsZUw36:{isNullable:!0,type:t.String},previousItemId:{isNullable:!0,type:t.String},SdTQjFEYI:{isNullable:!0,type:t.ResponsiveImage},XNPShZqo7:{isNullable:!0,type:t.String},xOyJ2JiGG:{isNullable:!0,type:t.String},xtRS18Pfy:{isNullable:!0,type:t.String},XZt2IoTvh:{isNullable:!0,type:t.RichText},yxdNyle4k:{isNullable:!0,type:t.ResponsiveImage}},$t=new n,en={collectionByLocaleId:{default:new Gt({chunks:[new URL(`./S8xkpwiby-chunk-default-0.framercms`,`https://framerusercontent.com/modules/LcF9EociwPlWB11TpwCD/pyYYkxOmb2MhJSb3k8Wv/S8xkpwiby.js`).href],compressionDictionary:new URL(`./S8xkpwiby-chunk-default-dict.framercms`,`https://framerusercontent.com/modules/LcF9EociwPlWB11TpwCD/pyYYkxOmb2MhJSb3k8Wv/S8xkpwiby.js`).href,indexes:[],resolveRichText:qt,schema:Qt})},displayName:`Projects`},tn=en,r(en,{AzdUydboP:{defaultValue:``,title:`Title`,type:t.String},xOyJ2JiGG:{title:`Slug`,type:t.String},MncjbZVH8:{defaultValue:``,title:`Title #1`,type:t.String},iXN8dGjqe:{defaultValue:``,title:`Title #2`,type:t.String},CaMuWTseY:{defaultValue:``,displayTextArea:!1,title:`Project Intro`,type:t.String},kBl2R9IS1:{dataIdentifier:`local-module:collection/uFWltGs8H:default`,title:`Project Category`,type:t.CollectionReference},XNPShZqo7:{defaultValue:``,title:`Location`,type:t.String},e9oRpuTnI:{defaultValue:``,title:`Services`,type:t.String},LIl1LmjQz:{defaultValue:``,title:`Timeframe`,type:t.String},SdTQjFEYI:{title:`Main Image`,type:t.ResponsiveImage},CgLfZhsfI:{title:`Preview Image`,type:t.ResponsiveImage},LDgxd28F3:{__vekterDefault:[],control:{controls:{QBMBNQ3FX:{title:`Image`,type:`responsiveimage`}},type:`object`},title:`Gallery`,type:t.Array},CdBVTsFTu:{defaultValue:``,title:`Content Headline`,type:t.String},XZt2IoTvh:{defaultValue:``,title:`Content Text`,type:t.RichText},PQQsZUw36:{defaultValue:``,displayTextArea:!1,title:`Quote Text`,type:t.String},yxdNyle4k:{title:`Quote Author Image`,type:t.ResponsiveImage},kg4o6X7lZ:{defaultValue:``,title:`Quote Author`,type:t.String},xtRS18Pfy:{defaultValue:``,title:`Quote Author Subtile`,type:t.String},previousItemId:{dataIdentifier:`local-module:collection/S8xkpwiby:default`,title:`Previous`,type:t.CollectionReference},nextItemId:{dataIdentifier:`local-module:collection/S8xkpwiby:default`,title:`Next`,type:t.CollectionReference}}),nn={},rn={async getSlugByRecordId(e,t){let[n]=await $t.query({from:{data:en,type:`Collection`},limit:{type:`LiteralValue`,value:1},select:[{name:`xOyJ2JiGG`,type:`Identifier`}],where:{left:{name:`id`,type:`Identifier`},operator:`==`,right:{type:`LiteralValue`,value:e},type:`BinaryOperation`}},t);return n?.xOyJ2JiGG},async getRecordIdBySlug(e,t){let[n]=await $t.query({from:{data:en,type:`Collection`},limit:{type:`LiteralValue`,value:1},select:[{name:`id`,type:`Identifier`}],where:{left:{name:`xOyJ2JiGG`,type:`Identifier`},operator:`==`,right:{type:`LiteralValue`,value:e},type:`BinaryOperation`}},t);return n?.id}},an={exports:{default:{type:`data`,name:`data`,annotations:{framerRecordIdKey:`id`,framerEnumToDisplayNameUtils:`2`,framerCollectionId:`S8xkpwiby`,framerCollectionUtils:`1`,framerSlug:`xOyJ2JiGG`,framerContractVersion:`1`,framerData:``}},enumToDisplayNameFunctions:{type:`variable`,annotations:{framerContractVersion:`1`}},utils:{type:`variable`,annotations:{framerContractVersion:`1`}},__FramerMetadata__:{type:`variable`}}}});export{tn as S8xkpwiby_default,an as __FramerMetadata__,nn as enumToDisplayNameFunctions,on as init_S8xkpwiby,rn as utils};
//# sourceMappingURL=S8xkpwiby.Bncqx6m1.mjs.map